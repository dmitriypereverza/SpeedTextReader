(this["webpackJsonpreact-typescript-template"]=this["webpackJsonpreact-typescript-template"]||[]).push([[0],{113:function(e,t,n){e.exports=n(184)},119:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),u=n(5),o=n.n(u),i=n(69),b=n.n(i),l=n(95),s=n(7),f=(n(119),n(1)),O=f.b.div.withConfig({displayName:"Wrapper__StyledWrapper",componentId:"yajhgc-0"})([""]),j=Object(f.b)(O).withConfig({displayName:"Wrapper___StyledStyledWrapper",componentId:"yajhgc-1"})(["",""],(function(e){return e._css})),d=c.a.memo(Object(a.forwardRef)((function(e,t){var n=e.styles,r=e.as,a=e.appendProps,u=e.children;return c.a.createElement(j,Object.assign({ref:t,as:r},a,{_css:n}),u)}))),p=n(193),m=n(98),g=n(44),v=n(45),h=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"getFileContent",value:function(e){var t=new FileReader;return t.readAsText(e),new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}}]),e}();!function(e){e[e.FB2=0]="FB2",e[e.TXT=1]="TXT"}(r||(r={}));var y=function(){function e(){Object(g.a)(this,e)}return Object(v.a)(e,[{key:"parse",value:function(e,t){switch(t){case r.FB2:return n=e,Array.from(n.matchAll(/(?<=<p>).+?(?=<\/p>)/gm)).map((function(e){return e[0].replace(/<[^>]*>?/gm,"")}));case r.TXT:return function(e){return[e]}(e);default:return[]}var n}}]),e}(),E=Object(m.buildContainer)({params:{},classes:{fileService:{class:h},bookContentParserService:{class:y}}}),w=n(195),x=n(186),F=n(187),C=n(188),B={background:"#F5F5F8",dimmedBlue0:"#F7F9FA",dimmedBlue1:"#E5E9EB",dimmedBlue2:"#9BA8BB",dimmedBlue3:"#65748A",dimmedBlue4:"#363E4A",blue0:"#F6F9FE",blue1:"#D5E3FB",blue2:"#6699F0",blue3:"#1D6BF6",blue35:"#0848BA",blue4:"#05307B",white:"#FFFFFF",red:"#EF5656",red2:"#EB5757",error:"rgb(239, 86, 86, .15)",blackTransparent:"rgba(0, 0, 0, 0.1)",transparent:"rgba(0, 0, 0, 0)",orangeBackground:"rgba(255, 134, 46, .15)",green:"#A0B336",greenBackground:"rgba(160, 179, 54, .15)",grayBackground:"rgba(101, 116, 138, 0.15)",systemBlue:"#3D7EBB",systemPurple:"#9428C0",systemGreen:"#5BC524",systemRed:"#CE1804",systemYellow:"#F4C524",systemFrenchRose:"#F35588",systemCumin:"#8F4426",systemVictoria:"#4503D0",systemOrange:"#F58546",green0:"#E0F7D4",green1:"#65C99C",green2:"#7EC757",green3:"#49AE13",green35:"#2C7406",greenOverlay:"#e4f3dc",orange:"#FF862E",orange2:"#FA9F5A"},k=w.a,S=Object(x.a)((function(e){return B[e]||e})),A=function(e){return Object(F.a)(String,e)?e:"".concat(e,"px")};Object(x.a)((function(e,t){return A(t[e])})),Object(x.a)((function(e,t){return"".concat(t[e],"px")}));function T(e){return Object(f.a)(["background-color:",";"],S(e))}Object(f.a)(["border:0;"]);Object(C.a)(k,(function(e){return Object(f.a)(["width:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["min-width:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["max-width:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["height:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["min-height:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["max-height:",";"],A(e))}));var R,_=Object(f.a)(["display:flex;"]),I=(Object(f.a)(["display:inline-flex;"]),Object(f.a)(["flex-wrap:wrap;"]),Object(C.a)(k,(function(e){return Object(f.a)(["flex:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["flex-grow:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["flex-basis:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["flex-shrink:",";"],e)})),Object(f.a)(["width:100%;"])),N=Object(f.a)(["height:100%;"]),W=(Object(f.a)(["flex-direction:column;"]),Object(C.a)(k,(function(e){return Object(f.a)(["margin:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["margin-left:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["margin-right:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["margin-top:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["margin-bottom:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["padding:",";"],A(e))}))),P=(Object(C.a)(k,(function(e){return Object(f.a)(["padding-left:","px;"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["padding-right:","px;"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["padding-top:","px;"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["padding-bottom:","px;"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["border-radius:",";"],A(e))})));Object(C.a)((function(e){var t=Object(s.a)(e,4),n=t[0],r=t[1],a=t[2],c=t[3];return"".concat(n,"_").concat(r,"_").concat(a,"_").concat(c)}),(function(e){var t=Object(s.a)(e,4),n=t[0],r=t[1],a=t[2],c=t[3];return Object(f.a)(["box-shadow:"," "," "," ",";"],A(n),A(r),A(a),S(c))})),Object(C.a)(k,(function(e){return Object(f.a)(["position:",";"],e)})),Object(f.a)(["position:fixed;position:-webkit-sticky;position:sticky;"]),Object(C.a)(k,(function(e){return Object(f.a)(["left:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["right:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["top:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["bottom:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["transform:",";"],e)})),Object(f.a)(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]);!function(e){e.START="flex-start",e.END="flex-end",e.CENTER="center",e.SPACE_AROUND="space-around",e.SPACE_BETWEEN="space-between",e.STRETCH="stretch",e.BASELINE="baseline"}(R||(R={}));var D,L=Object(C.a)(k,(function(e){return Object(f.a)(["justify-content:",";"],e)})),z=(Object(C.a)(k,(function(e){return Object(f.a)(["align-self:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["align-items:",";"],e)}))),H=(Object(C.a)(k,(function(e){return Object(f.a)(["z-index:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["transition:",";"],e)})),Object(f.a)(["overflow-y:auto;"]),Object(f.a)(["overflow-x:auto;"]),Object(C.a)(k,(function(e){return Object(f.a)(["overflow:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["overflow-x:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["overflow-y:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["text-overflow:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["display:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["opacity:",";"],e)})),Object(f.a)(["cursor:pointer;"]),Object(f.a)(["cursor:default;"]),Object(C.a)(k,(function(e){return Object(f.a)(["line-height:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["font-size:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["letter-spacing:",";"],A(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["font-weight:",";"],e)})),Object(f.a)(["white-space:nowrap;"]),Object(f.a)(["white-space:normal;"]),Object(f.a)(["display:block;&::first-letter{text-transform:capitalize;}"]),Object(C.a)(k,(function(e){return Object(f.a)(["text-transform:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["*{","}"],e)})),Object(C.a)(k,(function(e){var t=S(e);return Object(f.a)(["color:",";fill:",";"],t,t)})));Object(C.a)(k,(function(e){return Object(f.a)([":hover,:hover span{color:",";}"],S(e))})),Object(C.a)(k,(function(e){return Object(f.a)(["float:",";"],e)})),Object(C.a)(k,(function(e){return Object(f.a)(["text-align:",";"],e)}));!function(e){e.ALL="*",e.IMAGE=".jpeg, .jpg, .png, .bmp",e.BOOKS=".fb2"}(D||(D={}));var G=c.a.memo((function(e){var t=e.maxSize,n=e.accept,r=void 0===n?D.ALL:n,a=e.view,u=e.onFileLoaded,o=c.a.useRef();return c.a.useEffect((function(){return o.current=document.createElement("input"),o.current.accept=r,o.current.type="file",o.current.style.display="none",o.current.onchange=function(e){var n=e.target.files[0];n&&(o.current.value="",t&&n.size>t||u(n))},document.body.appendChild(o.current),function(){return document.body.removeChild(o.current)}}),[]),a((function(){return o.current&&o.current.click()}))}));var X=n(191),J=n(99),K=n(189),M=n(190),U=n(194),V=n(192);function Y(){var e=Object(J.a)(["\n          background-color: yellow;\n        "]);return Y=function(){return e},e}var q=f.b.div.withConfig({displayName:"HumanSpeedReader__StyledHumanSpeedReader",componentId:"te72ep-0"})(["display:flex;flex-direction:column;width:80%;height:100%;"]),Q=f.b.div.withConfig({displayName:"HumanSpeedReader__WordContainer",componentId:"te72ep-1"})(["display:flex;width:100%;height:400px;font-size:64px;font-weight:bold;justify-content:center;align-items:center;"]),Z=f.b.span.withConfig({displayName:"HumanSpeedReader__WordInText",componentId:"te72ep-2"})(["cursor:pointer;:hover{background-color:whitesmoke;}",""],(function(e){return e.active?Object(f.a)(Y()):null}));function $(e){var t=e.sentences,n=Object(a.useState)(!1),r=Object(s.a)(n,2),c=r[0],u=r[1],o=Object(a.useState)(300),i=Object(s.a)(o,2),b=i[0],l=i[1],f=Object(a.useRef)([0,0]),O=Object(a.useRef)(),j=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2)[1];return Object(a.useCallback)((function(){return t({})}),[])}();function d(){var e=[f.current[0],f.current[1]+1];return Object(U.a)(e,t)?(f.current=e,void j()):(e=[f.current[0]+1,0],Object(U.a)(e,t)?(f.current=e,void j()):void 0)}function p(){m(),u(!0),O.current=Object(V.a)(b).subscribe(d)}function m(){var e;null===(e=O.current)||void 0===e||e.unsubscribe(),u(!1)}return Object(a.useEffect)((function(){c&&(m(),p())}),[b]),{wordIndex:f.current,setWordIndex:function(e){f.current=e,j()},start:p,stop:m,pause:function(){var e;return null===(e=O.current)||void 0===e?void 0:e.unsubscribe()},setSpeed:l,speed:b,isWorking:c}}var ee=c.a.memo((function(e){var t=e.sentences,n=$({sentences:t}),r=n.start,u=n.setSpeed,o=n.speed,i=n.pause,b=n.wordIndex,l=n.isWorking,f=n.setWordIndex,O=Object(a.useState)(o),j=Object(s.a)(O,2),m=j[0],g=j[1],v=function(e,t){var n=Object(a.useRef)(),r=Object(a.useCallback)((function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];n&&clearTimeout(n.current),n.current=setTimeout((function(){e.apply(void 0,a)}),t)}),[]);return Object(a.useEffect)((function(){clearTimeout(n.current)}),[e,t]),r}(u,1e3);return c.a.createElement(q,null,l?c.a.createElement(d,null,c.a.createElement(Q,null,!!b&&c.a.createElement("span",null,t[b[0]][b[1]])),c.a.createElement(K.default.Group,{value:"",onChange:function(e){switch(e.target.value){case"start":r();break;case"pause":i();break;default:return}}},c.a.createElement(K.default.Button,{value:"start"},"\u0421\u0442\u0430\u0440\u0442"),c.a.createElement(K.default.Button,{value:"pause"},"\u041f\u0430\u0443\u0437\u0430")),c.a.createElement(M.a,{tooltipVisible:!0,value:m,min:10,max:1500,onChange:function(e){g(e),v(e)}})):c.a.createElement(p.a,{onClick:function(){r()}},"\u041d\u0430\u0447\u0430\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u0435"),c.a.createElement(d,{styles:[T("dimmedBlue0"),W(24),H("dimmedBlue4")]},function(){var e=Object(s.a)(b,2),n=e[0],r=e[1],a=n<3?0:n-3,u=n+3;return t.slice(a,u).map((function(e,t){var u=a+t,o=u===n;return c.a.createElement(d,{key:t,styles:[o?T("dimmedBlue1"):[],P(2)]},e.map((function(e,t){var n=o&&r===t;return c.a.createElement("span",{key:t},c.a.createElement(Z,{onClick:function(){return f([u,t])},active:n},e)," ")})))}))}()))}));var te=function(e,t){var n=c.a.memo(t);return function(t){var r=e();return c.a.createElement(n,Object.assign({},t,r))}}((function(){return{fileService:E.get("fileService"),bookContentParserService:E.get("bookContentParserService")}}),(function(e){var t=e.fileService,n=e.bookContentParserService,u=Object(a.useState)(),o=Object(s.a)(u,2),i=o[0],f=o[1];return c.a.createElement(d,{styles:[_,N,I,L(R.CENTER),z(R.CENTER)]},i?c.a.createElement(ee,{sentences:i}):c.a.createElement(G,{accept:D.BOOKS,onFileLoaded:function(){var e=Object(l.a)(b.a.mark((function e(a){var c,u,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFileContent(a);case 2:c=e.sent,u=n.parse(c,r.FB2),o=u.map(Object(X.a)(" ")),f(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),view:function(e){return c.a.createElement(p.a,{onClick:e},"Upload")}}))}));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(te,null)),document.getElementById("root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.1429d538.chunk.js.map